Output Variables
================

This section describes all output variables generated by pySnowClim, their units, and physical meaning.

Variable Categories
-------------------

pySnowClim generates comprehensive outputs organized into several categories:

- **Snow State Variables**: Physical properties of the snowpack
- **Mass Balance Components**: Inputs and outputs of water/snow
- **Energy Balance Components**: Heat fluxes and energy transfers
- **Surface Properties**: Characteristics of the snow surface
- **Internal Snowpack Properties**: Subsurface conditions

Complete Variable List
----------------------

Snow State Variables
~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :widths: 20 15 50
   :header-rows: 1

   * - Variable Name
     - Units
     - Description
   * - ``SnowWaterEq``
     - mm
     - Snow water equivalent - total amount of water stored as snow
   * - ``SnowDepth``
     - mm
     - Physical depth of snowpack from ground surface
   * - ``SnowDensity``
     - kg/m³
     - Bulk density of the snowpack
   * - ``SnowfallWaterEq``
     - mm/timestep
     - Water equivalent of new snowfall during timestep
   * - ``SnowTemp``
     - °C
     - Temperature of the snow surface

Mass Balance Components
~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :widths: 20 15 50
   :header-rows: 1

   * - Variable Name
     - Units
     - Description
   * - ``SnowMelt``
     - mm/timestep
     - Amount of snow melted during timestep
   * - ``Sublimation``
     - mm/timestep
     - Snow lost to sublimation (positive values)
   * - ``Condensation``
     - mm/timestep
     - Water gained from vapor condensation (negative sublimation)
   * - ``RefrozenWater``
     - mm/timestep
     - Liquid water that refroze within the snowpack
   * - ``Runoff``
     - mm/timestep
     - Surface runoff from snowpack (melt + rain excess)
   * - ``RaininSnow``
     - mm/timestep
     - Rainfall remaining in snowpack after water drainage
   * - ``PackWater``
     - mm
     - Total liquid water currently stored in snowpack

Energy Balance Components
~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :widths: 20 15 50
   :header-rows: 1

   * - Variable Name
     - Units
     - Description
   * - ``Energy``
     - kJ/m²/timestep
     - Net energy flux at snow surface (positive = energy input)
   * - ``Q_sensible``
     - kJ/m²/timestep
     - Sensible heat flux between air and snow surface
   * - ``Q_latent``
     - kJ/m²/timestep
     - Latent heat flux (evaporation/sublimation/condensation)
   * - ``Q_precip``
     - kJ/m²/timestep
     - Heat input from liquid precipitation
   * - ``SW_down``
     - kJ/m²/timestep
     - Incoming shortwave (solar) radiation
   * - ``SW_up``
     - kJ/m²/timestep
     - Reflected shortwave radiation
   * - ``LW_down``
     - kJ/m²/timestep
     - Incoming longwave (atmospheric) radiation
   * - ``LW_up``
     - kJ/m²/timestep
     - Outgoing longwave radiation from snow surface
   * - ``MeltEnergy``
     - kJ/m²/timestep
     - Energy consumed by melting process
   * - ``Gf``
     - kJ/m²/timestep
     - Ground heat flux (typically small positive value)

Surface Properties
~~~~~~~~~~~~~~~~~~

.. list-table::
   :widths: 20 15 50
   :header-rows: 1

   * - Variable Name
     - Units
     - Description
   * - ``Albedo``
     - dimensionless
     - Surface albedo (fraction of solar radiation reflected)
   * - ``ExistSnow``
     - binary
     - Snow presence flag (1 = snow present, 0 = no snow)

Internal Snowpack Properties
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. list-table::
   :widths: 20 15 50
   :header-rows: 1

   * - Variable Name
     - Units
     - Description
   * - ``PackCC``
     - kJ/m²
     - Cold content of snowpack (energy deficit below 0°C)
   * - ``CCenergy``
     - kJ/m²/timestep
     - Energy used to eliminate cold content during timestep
   * - ``CCsnowfall``
     - kJ/m²/timestep
     - Cold content added by new snowfall

Derived Variables
~~~~~~~~~~~~~~~~~

Additional variables that can be calculated from primary outputs:

.. list-table::
   :widths: 20 15 15 50
   :header-rows: 1

   * - Derived Variable
     - Units
     - Calculation
     - Description
   * - ``Net_SW``
     - kJ/m²/timestep
     - SW_down - SW_up
     - Net shortwave radiation
   * - ``Net_LW``
     - kJ/m²/timestep
     - LW_down - LW_up
     - Net longwave radiation
   * - ``Net_Radiation``
     - kJ/m²/timestep
     - Net_SW + Net_LW
     - Total net radiative flux
   * - ``Mass_Balance``
     - mm/timestep
     - SnowfallWaterEq - SnowMelt - Sublimation + RefrozenWater
     - Net mass change of snowpack

Understanding the Variables
---------------------------

Sign Conventions
~~~~~~~~~~~~~~~~

**Energy Fluxes:**

- **Positive values**: Energy input to snowpack (warming)
- **Negative values**: Energy loss from snowpack (cooling)

**Mass Fluxes:**

- **Positive values**: Mass gain or output from snowpack
- **Negative values**: Mass loss (for Sublimation, negative values indicate condensation)

**Temperature:**

- All temperatures in Celsius
- Snow surface temperature ≤ 0°C
- Cold content always ≤ 0 (represents energy deficit)

Temporal Considerations
~~~~~~~~~~~~~~~~~~~~~~~

**Instantaneous vs. Accumulated:**

- Most variables represent fluxes or changes during the timestep
- State variables (SWE, depth, temperature) represent conditions at end of timestep
- Some variables (PackWater, PackCC) represent current storage amounts

**Timestep Dependencies:**

- Flux variables scale with timestep length
- Daily timesteps will have larger absolute values than hourly
- Rate calculations should account for timestep duration
